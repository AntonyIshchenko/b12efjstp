import{i as re,a as d}from"./vendor-cb82152a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();const E={showInfo:e=>{O(e)&&M(e,"info")},showSuccess:e=>{O(e)&&M(e,"success")},showError:e=>{O(e)&&M(e,"error")}},O=e=>e.trim().length<=300,M=(e,t="")=>{const a=[];for(;e.length>200;)a.push(e.slice(0,200)),e=e.slice(200);a.push(e),a.forEach((r,i)=>{re[t]({title:i===0?r:"",message:i===0?"":r,position:"bottomCenter",closeOnEscape:!0,closeOnClick:!0,timeout:5e3,messageLineHeight:"12px"})})};d.defaults.baseURL="https://energyflow.b.goit.study/api";const W={getFilterData:async function({page:e=1,limit:t=8,filter:s="Muscles"}){try{return(await d.get("/filters",{params:{filter:s,page:e,limit:t}})).data}catch(a){return console.log(a),{page:0,totalPages:0,results:[]}}},getExercisesData:async function(e){try{return(await d.get("/exercises",{params:e})).data}catch{return{page:0,totalPages:0,results:[]}}},getQuoteOfTheDay:async function(){try{return(await d.get("/quote")).data}catch{return{author:"",quote:""}}},getExerciseInfo:async function(e=""){try{return(await d.get(`exercises/${e}`)).data}catch(t){return{_id:"",message:t.response.data.message}}},updateExerciseRating:async function({id:e="",rate:t,email:s="",review:a=""}){try{const r=await d.patch(`exercises/${e}/rating`,{rate:t,email:s,review:a});return{result:!0}}catch(r){return{result:!1,message:r.response.data.message}}},subscription:async function(e=""){try{const t=await d.post("/subscription",{email:e});return{result:!0,message:"We're excited to have you on board! ðŸŽ‰ Thank you for subscribing to new exercises on Energy Flow.You've just taken a significant step towards improving your fitness and well-being."}}catch(t){return console.log(t),{result:!1,message:t.response.data.message}}}},l={quote:"quoteOfTheDay",favorites:"favoritesExercises"},f={async getQuoteOfTheDay(){const e=ie(new Date),t=x(l.quote);if(t&&t.date===e)return t;{const s=await W.getQuoteOfTheDay();if(s!=null&&s.quote){const a={...s,date:e};return localStorage.setItem(l.quote,JSON.stringify(a)),a}return s}},getFavorites(){const e=x(l.favorites);return e||[]},addItemToFavorites(e={}){let t=x(l.favorites);t||(t=[]),t.push(e),localStorage.setItem(l.favorites,JSON.stringify(t))},deleteItemFromFavorites(e=""){const t=x(l.favorites);if(t&&e!==""){const s=t.filter(a=>a._id!==e);localStorage.setItem(l.favorites,JSON.stringify(s))}}};function x(e=""){let t=localStorage.getItem(e);if(t)try{t=JSON.parse(t)}catch{t=null}return t}function ie(e){const t=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return`${t}-${s}-${a}`}const L="/b12efjstp/assets/sprite-7989babe.svg",k={exerciseCardMarkup:function(e={},t=!1){const{name:s,burnedCalories:a,time:r,bodyPart:i,target:n,rating:R,_id:F}=e;let A="";return t?A=`<button type="button" class="exercise-card-remove-btn" data-delete-id="${F}" aria-label="Remove exercise from favorites button">
       <svg class="exercise-card-remove-icon" width="16" height="16">
           <use href="${L}#icon-trash-black"></use>
       </svg>
    </button>`:A=`<p class="exercise-card-rating">
      <span class="exercise-card-rating-value">${R}</span>
         <svg class="exercise-card-rating-star" width="18" height="18">
           <use href="${L}#icon-star"></use>
         </svg>
      </p>`,`<li class="exercise-card-item" data-card-id="${F}">
  <div class="exercise-card-actions">
    <div class="exercise-card-workout-container">
      <p class="exercise-card-workout-text">Workout</p>
      ${A}
    </div>
    <button type="button" class="exercise-card-start-btn" data-open-id="${F}" aria-label="Open exercises details window button">
      <span class="exercise-card-start-btn-text">Start</span>
      <svg class="exercise-card-start-btn-icon" width="16" height="16">
        <use href="${L}#icon-arrow-right"></use>
      </svg>
    </button>
  </div>
  <h3 class="exercise-card-header-container">
    <svg class="exercise-card-header-icon" width="24" height="24">
      <use href="${L}#icon-icon-run"></use>
    </svg>
    <span class="exercise-card-header-text"
      >${ne(s)}</span
    >
  </h3>
  <ul class="exercises-card-info-list">
    <li class="exercise-card-info-parameter">
      <p class="exercise-card-parameter-name">Burned calories:</p>
      <p class="exercise-card-parameter-value">${a} / ${r} min</p>
    </li>
    <li class="exercise-card-info-parameter">
      <p class="exercise-card-parameter-name">Body part:</p>
      <p class="exercise-card-parameter-value">${i}</p>
    </li>
    <li class="exercise-card-info-parameter">
      <p class="exercise-card-parameter-name">Target:</p>
      <p class="exercise-card-parameter-value">${n}</p>
    </li>
  </ul>
  </li>`},filterGroupsMarkup:function({name:e="",filter:t="",imgUrl:s=""}){return`<li class="exercises-gallery-item" style="${`background-image: linear-gradient(
      0deg,
      rgba(16, 16, 16, 0.7) 0%,
      rgba(16, 16, 16, 0.7) 100%
    ),
    url('${s}');`}">
    <a href="" class="exercises-gallery-link" data-name="${e}" aria-label="Select exercises by ${e}">
      <h3 class="exercises-gallery-item-title">${e}</h3>
      <p class="exercises-gallery-item-description">${t}</p>
    </a>
  </li>`},paginationMarkup:function(e=1,t=1){let s="";for(let a=1;a<=e;a++)a!==t-0?s+=`<li class="pagination-item"><a href="" aria-label="Adress to page number ${a}">${a}</a></li>`:s+=`<li class="pagination-item pagination-item-active">
    <a href="" "Adress to currently active page number ${a}">${a}</a>
  </li>`;return s}};function ne(e=""){return e[0].toUpperCase()+e.substring(1)}let p=0;const D=document.querySelector(".backdrop"),h=document.querySelectorAll(".feedback-rating-stars-svg"),C=document.querySelector(".feedback-form-rating-value"),q=document.querySelector(".modal-exercise"),g=document.querySelector(".feedback-container"),oe=document.querySelector(".modal-exercise-btn-rating"),ce=document.querySelector(".feedback-close-button"),Z=document.querySelector(".feedback-form");function le(){oe.addEventListener("click",ee),ce.addEventListener("click",T),Z.addEventListener("submit",de),ue()}function ee(e=""){typeof e=="string"&&(g.dataset.id=e,q.classList.toggle("visually-hidden"),q.classList.toggle("is-open-modal"),g.classList.toggle("visually-hidden"),g.classList.toggle("is-open-modal"),se())}function T(){Z.reset(),te(),se(!0),g.classList.toggle("visually-hidden"),g.classList.toggle("is-open-modal"),q.classList.toggle("visually-hidden"),q.classList.toggle("is-open-modal"),I()}async function de(e){e.preventDefault();const t=g.dataset.id,s=parseFloat(C.textContent),a=document.querySelector(".feedback-form-input").value,r=document.querySelector(".feedback-form-textarea").value.trim();if(!t||!s||!a||!r){E.showError("Please fill in all fields!");return}const i={id:t,rate:s,email:a,review:r},n=await W.updateExerciseRating(i);n.result?(E.showSuccess("Thank you! Your opinion is important to us!"),T()):E.showError(n.message)}function ue(){h.forEach(e=>{e.addEventListener("mouseenter",()=>{const t=Array.from(h).indexOf(e);H(t),N(t+1)}),e.addEventListener("mouseleave",()=>{p===0?te():(H(p-1),N(p))}),e.addEventListener("click",()=>{const t=Array.from(h).indexOf(e)+1;p=t,C.textContent=`${p}.0`,H(t-1)})})}function H(e){h.forEach((t,s)=>{s<=e?t.classList.add("feedback-rating-stars-svg-highlight"):t.classList.remove("feedback-rating-stars-svg-highlight")})}function te(){h.forEach(e=>{e.classList.remove("feedback-rating-stars-svg-highlight")}),C.textContent="0.0"}function N(e){C.textContent=`${e}.0`}function se(e=!1){e?(document.removeEventListener("keyup",_),D.removeEventListener("click",j)):(D.addEventListener("click",j),document.addEventListener("keyup",_))}function j(e){e.target===D&&T()}function _(e){e.code==="Escape"&&T()}let B={};const u=document.querySelector(".backdrop");document.querySelector(".modal-exercise-btn-close");document.querySelector(".modal-exercise-btn");document.querySelector(".modal-exercise-btn-rating");const o=document.querySelector(".modal-exercise"),me=document.querySelector(".modal-exercise-title"),ge=document.querySelector(".mod-exercise-rating-value"),m=document.querySelector(".modal-exercise-list"),fe=document.querySelector(".modal-exercise-instruction-text"),c=document.querySelector(".mod-exercise-span"),pe=document.getElementById("img");function ve(){document.querySelector(".modal-exercise-btn-close").addEventListener("click",Se),document.querySelector(".modal-exercise-btn").addEventListener("click",xe),document.querySelector(".modal-exercise-btn-rating").addEventListener("click",be)}async function he(e=""){u.classList.add("backdrop-is-open"),o.classList.add("is-open-modal"),o.dataset.isChanged="";const t=await W.getExerciseInfo(e);if(t!=null&&t._id){o.dataset.id=t._id,B=t,ye(t);const s=f.getFavorites().find(a=>a._id===t._id);c.textContent=s?c.dataset.remove:c.dataset.add,I()}else o.dataset.id="",B={},E.showError(t.message)}function ye(e){Le(e.gifUrl),me.textContent=b(e.name),ge.textContent=e.rating.toString().padEnd(3,".0"),Ee(),fe.textContent=e.description,m.innerHTML="";let t="";const s=Object.keys(e);if(s.includes("target")&&(t=`<li class="modal-exercise-item">
          <p class="modal-exercise-subcategory">Target</p>
          <p class="modal-exercise-selected">${b(e.target)}</p>
        </li>`,m.insertAdjacentHTML("beforeend",t)),s.includes("bodyPart")&&(t=` <li class="modal-exercise-item">
    <p class="modal-exercise-subcategory">Body Part</p>
    <p class="modal-exercise-selected">${b(e.bodyPart)}</p>
  </li>`,m.insertAdjacentHTML("beforeend",t)),s.includes("equipment")&&(t=` <li class="modal-exercise-item">
          <p class="modal-exercise-subcategory">Equipment</p>
          <p class="modal-exercise-selected">${b(e.equipment)}</p>
        </li>`,m.insertAdjacentHTML("beforeend",t)),s.includes("popularity")&&(t=`<li class="modal-exercise-item">
          <p class="modal-exercise-subcategory">Popular</p>
          <p class="modal-exercise-selected">${e.popularity}</p>
        </li>`,m.insertAdjacentHTML("beforeend",t)),s.includes("time")){const a=`<li class="modal-exercise-item">
            <p class="modal-exercise-subcategory">Burned Calories</p>
            <p class="modal-exercise-selected">${e.burnedCalories}/${e.time} min</p>
          </li>`;m.insertAdjacentHTML("beforeend",a)}}function xe(){c.textContent===c.dataset.add?(c.textContent=c.dataset.remove,f.addItemToFavorites(B)):(c.textContent=c.dataset.add,f.deleteItemFromFavorites(o.dataset.id)),o.dataset.isFavorites&&(o.dataset.isChanged="true")}function Le(e){pe.style.backgroundImage=`linear-gradient(
      0deg,
      rgba(27, 27, 27, 0.2) 0%,
      rgba(27, 27, 27, 0.2) 100%
    ),
    url(${e})`}function be(){I(!0),ee(o.dataset.id)}function Se(){P()}function G(e){e.target===u&&P()}function z(e){e.code==="Escape"&&P()}function P(){I(!0);const e=300;u.classList.add("hiding"),setTimeout(()=>{u.classList.remove("hiding"),o.classList.remove("is-open-modal"),u.classList.remove("backdrop-is-open")},e),o.dataset.isFavorites&&Ce()}function b(e=""){return e[0].toUpperCase()+e.substring(1)}function Ee(){const e=document.querySelectorAll(".mod-exercise-rating");let t,s;for(let n=0;n<e.length;n++){const R=e[n];a(R)}function a(n){r(n),i()}function r(n){t=n.querySelector(".mod-exercise-rating-active"),s=n.querySelector(".mod-exercise-rating-value")}function i(){const n=s.textContent/.05;t.style.width=`${n}%`}}function I(e=!1){e?(document.removeEventListener("keyup",z),u.removeEventListener("click",G)):(u.addEventListener("click",G),document.addEventListener("keyup",z))}const ke=document.querySelector(".mob-menu-close-nav-button"),we=document.querySelector(".header-button-nav"),$=document.querySelector(".mobile-menu");we.addEventListener("click",()=>$.classList.add("is-open"));ke.addEventListener("click",()=>$.classList.remove("is-open"));$.addEventListener("click",()=>$.classList.remove("is-open"));const V=document.querySelector(".header-home"),J=document.querySelector(".header-favorites"),Q=document.querySelector(".header");window.location.pathname.endsWith("/favorites.html")?(J.classList.add("active"),V.classList.remove("active"),Q.classList.remove("header-hero")):(V.classList.add("active"),J.classList.remove("active"),Q.classList.add("header-hero"));const U=document.querySelector(".mob-menu-home"),Y=document.querySelector(".mob-menu-favorites");window.location.pathname.endsWith("/favorites.html")?(Y.classList.add("active"),U.classList.remove("active")):(U.classList.add("active"),Y.classList.remove("active"));const v=document.querySelector(".scroll-button"),K=document.querySelector(".scroll-mini"),X=document.querySelector(".scroll-big");ae();v.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});window.addEventListener("scroll",()=>{document.documentElement.scrollTop>=300&&v.classList.contains("is-hidden")&&v.classList.remove("is-hidden"),document.documentElement.scrollTop<300&&!v.classList.contains("is-hidden")&&v.classList.add("is-hidden")});window.addEventListener("resize",()=>{ae()});function ae(){document.documentElement.scrollWidth>=1440?(X.classList.remove("is-undisplayed"),K.classList.add("is-undisplayed")):(X.classList.add("is-undisplayed"),K.classList.remove("is-undisplayed"))}(async()=>{let e=await f.getQuoteOfTheDay();document.querySelector(".quote-author").textContent=e.author,document.querySelector(".quote-text").textContent=e.quote})();ve();le();const S=8;let w=document.documentElement.scrollWidth<768;if(window.location.pathname.endsWith("/favorites.html")){document.querySelector(".favorites-not-found-exercises");const e=document.querySelector(".favorites-exercises-list"),t=document.querySelector(".pagination-list"),s=document.querySelector(".modal-exercise");e.addEventListener("click",$e),t.addEventListener("click",qe),s.dataset.isFavorites="true",window.addEventListener("resize",()=>{w!==document.documentElement.scrollWidth<768&&(w=!w,y())}),y()}function y(e=1){const t=f.getFavorites();w&&t.length>S?(paginationList.classList.remove("visually-hidden"),paginationList.innerHTML=k.paginationMarkup(Math.ceil(t.length/S)),favoritesList.innerHTML=t.slice((e-1)*S,e*S).map(s=>k.exerciseCardMarkup(s,!0)).join("")):(paginationList.classList.add("visually-hidden"),paginationList.innerHTML="",favoritesList.innerHTML=t.map(s=>k.exerciseCardMarkup(s,!0)).join("")),t.length>0?(emptyListBlock.classList.add("visually-hidden"),favoritesList.classList.remove("visually-hidden")):(emptyListBlock.classList.remove("visually-hidden"),favoritesList.classList.add("visually-hidden"))}function qe(e){e.target.nodeName==="A"&&(e.preventDefault(),y(Number(e.target.innerText)),paginationList.innerHTML=k.paginationMarkup(e.currentTarget.children.length,Number(e.target.innerText)))}function $e(e){const t=e.target.closest(".exercise-card-start-btn");if(t){he(t.getAttribute("data-open-id"));return}const s=e.target.closest(".exercise-card-remove-btn");if(s){f.deleteItemFromFavorites(s.getAttribute("data-delete-id")),y();return}}function Ce(){modalExerciseWindow.dataset.isChanged&&y()}export{W as b,E as m,he as o,k as r};
//# sourceMappingURL=favorites-7cdf8269.js.map
