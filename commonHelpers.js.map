{"version":3,"file":"commonHelpers.js","sources":["../src/favorites.js"],"sourcesContent":["import messages from './js/notificationAPI';\nimport localStorageAPI from './js/localStorageAPI';\nimport { exerciseCardMarkup, paginationMarkup } from './js/renderMarkup';\n\nimport './js/initialization';\n\nconst emptyListBlock = document.querySelector('.favorites-not-found-exercises');\nconst favoritesList = document.querySelector('.favorites-exercises-list');\nconst paginationList = document.querySelector('.pagination-list');\nconst numberOfFavorites = localStorageAPI.getFavorites().length;\nconst numberOfFavoritesInMobile = 8;\n\nif (!paginationList.classList.contains('visually-hidden')) {\n  paginationList.classList.add('visually-hidden');\n}\n\nif (window.screen.width < 768) {\n  if (numberOfFavorites > numberOfFavoritesInMobile) {\n    paginationList.classList.remove('visually-hidden');\n    paginationList.innerHTML = paginationMarkup(\n      Math.ceil(numberOfFavorites / numberOfFavoritesInMobile)\n    );\n  }\n}\n\nrenderFavoritesList();\n\ndocument\n  .querySelector('.favorites-exercises-list')\n  .addEventListener('click', event => {\n    if (event.target.closest('.exercise-card-start-btn')) {\n      // open modal-exercise\n      console.log(\n        event.target\n          .closest('.exercise-card-start-btn')\n          .getAttribute('data-open-id')\n      );\n    }\n\n    if (event.target.closest('.exercise-card-remove-btn')) {\n      localStorageAPI.deleteItemFromFavorites(\n        event.target\n          .closest('.exercise-card-remove-btn')\n          .getAttribute('data-delete-id')\n      );\n      renderFavoritesList();\n    }\n  });\n\nfunction renderFavoritesList() {\n  const items = localStorageAPI.getFavorites();\n  const favoritesMarkup = items\n    .map(item => exerciseCardMarkup(item, true))\n    .join('');\n\n  favoritesList.innerHTML = favoritesMarkup;\n\n  if (items.length > 0) {\n    if (!emptyListBlock.classList.contains('visually-hidden')) {\n      emptyListBlock.classList.add('visually-hidden');\n    }\n  } else {\n    emptyListBlock.classList.remove('visually-hidden');\n  }\n}\n"],"names":["emptyListBlock","favoritesList","paginationList","numberOfFavorites","localStorageAPI","numberOfFavoritesInMobile","paginationMarkup","renderFavoritesList","event","items","favoritesMarkup","item","exerciseCardMarkup"],"mappings":"0GAMA,MAAMA,EAAiB,SAAS,cAAc,gCAAgC,EACxEC,EAAgB,SAAS,cAAc,2BAA2B,EAClEC,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAoBC,EAAgB,aAAc,EAAC,OACnDC,EAA4B,EAE7BH,EAAe,UAAU,SAAS,iBAAiB,GACtDA,EAAe,UAAU,IAAI,iBAAiB,EAG5C,OAAO,OAAO,MAAQ,KACpBC,EAAoBE,IACtBH,EAAe,UAAU,OAAO,iBAAiB,EACjDA,EAAe,UAAYI,EACzB,KAAK,KAAKH,EAAoBE,CAAyB,CAC7D,GAIAE,IAEA,SACG,cAAc,2BAA2B,EACzC,iBAAiB,QAASC,GAAS,CAC9BA,EAAM,OAAO,QAAQ,0BAA0B,GAEjD,QAAQ,IACNA,EAAM,OACH,QAAQ,0BAA0B,EAClC,aAAa,cAAc,CACtC,EAGQA,EAAM,OAAO,QAAQ,2BAA2B,IAClDJ,EAAgB,wBACdI,EAAM,OACH,QAAQ,2BAA2B,EACnC,aAAa,gBAAgB,CACxC,EACMD,IAEN,CAAG,EAEH,SAASA,GAAsB,CAC7B,MAAME,EAAQL,EAAgB,eACxBM,EAAkBD,EACrB,IAAIE,GAAQC,EAAmBD,EAAM,EAAI,CAAC,EAC1C,KAAK,EAAE,EAEVV,EAAc,UAAYS,EAEtBD,EAAM,OAAS,EACZT,EAAe,UAAU,SAAS,iBAAiB,GACtDA,EAAe,UAAU,IAAI,iBAAiB,EAGhDA,EAAe,UAAU,OAAO,iBAAiB,CAErD"}