import{b as g,r as E,l as h}from"./assets/initialization-3ae5a062.js";import{i as B}from"./assets/vendor-a65214f2.js";const d={showInfo:e=>{L(e,"info")},showSuccess:e=>{L(e,"success")},showError:e=>{L(e,"error")}},L=(e,t="")=>{B[t]({title:e,position:"bottomCenter",closeOnEscape:!0,closeOnClick:!0,timeout:5e3})};let u,m;const G=document.querySelector(".exercises-type-list"),c=document.querySelector(".exercises-gallery-list"),C=document.querySelector(".pagination-list"),f=document.querySelector(".exercises-type-form"),S=document.querySelector(".exercises-form-input"),q=document.querySelector(".exercises-form-btn-clear");function O(){u=document.documentElement.scrollWidth<768,m=document.documentElement.scrollWidth>=1440,G.addEventListener("click",M),c.addEventListener("click",U),C.addEventListener("click",Y),f.addEventListener("submit",W),S.addEventListener("input",V),q.addEventListener("click",z),window.addEventListener("resize",$),b()}function $(){let e=!1;u!==document.documentElement.scrollWidth<768&&(e=!0,u=!u),m!==document.documentElement.scrollWidth>=1440&&(e=!0,m=!m),e&&(c.dataset.isGroups?b():p())}function W(e){e.preventDefault(),p()}function V(){const e=S.value.trim();q.style.display=e.length>0?"block":"none"}function z(){f.reset(),q.style.display="none",p()}async function b(e=1){c.dataset.isGroups="true",c.dataset.groupName="";const t={filter:w().dataset.filter,limit:u?8:12,page:e},s=await g.getFilterData(t);A(s)}async function p(e=1){const t={[w().dataset.exerciseFilter]:c.dataset.groupName,limit:m?9:8,page:e},s=S.value.trim();s&&(t.keyword=s);const r=await g.getExercisesData(t);A(r,!0)}function A(e={},t=!1){const{results:s=[],totalPages:r=1,page:o=1}=e,n=t?s.map(i=>E.exerciseCardMarkup(i)).join(""):s.map(i=>E.filterGroupsMarkup(i)).join("");c.innerHTML=n,C.innerHTML=E.paginationMarkup(r,o)}function U(e){if(e.target.nodeName==="A"||e.target.nodeName==="P"||e.target.nodeName==="H3"){e.preventDefault();const t=e.target.nodeName==="A"?e.target:e.target.closest("a");c.dataset.isGroups="",c.dataset.groupName=t.dataset.name,p(),f.classList.remove("visually-hidden")}else if(c.dataset.groupName){const t=e.target.closest(".exercise-card-start-btn");if(t){alert(t.getAttribute("data-open-id"));return}}}function M(e){e.target.nodeName==="BUTTON"&&(w().classList.toggle("exercises-type-item-active"),e.target.classList.toggle("exercises-type-item-active"),b(),f.reset(),f.classList.add("visually-hidden"))}function Y(e){if(e.target.nodeName==="A"){e.preventDefault();const t=Number(e.target.innerText);c.dataset.isGroups?b(t):p(t)}}function w(){return document.querySelector(".exercises-type-item-active")}async function R(e=""){const t=await g.getExerciseInfo(e);try{t!={}?(_(t),J(t),X(e),Z()):d.showError()}catch(s){d.showError(s)}}function _(e){const t=document.querySelector(".modal-exercise-title"),s=document.querySelector(".mod-exercise-rating-value"),r=document.querySelector(".modal-exercise-list"),o=document.querySelector(".modal-exercise-instruction-text");K(e.gifUrl),t.textContent=v(e.name),s.textContent=e.rating.toString().padEnd(3,".0"),o.textContent=e.description;let n="";if(Object.keys(e).includes("target")&&(n=`<li class="modal-exercise-item">
          <p class="modal-exercise-subcategory">Target</p>
          <p class="modal-exercise-selected">${v(e.target)}</p>
        </li>`,r.insertAdjacentHTML("beforeend",n)),Object.keys(e).includes("bodyPart")&&(n=` <li class="modal-exercise-item">
    <p class="modal-exercise-subcategory">Body Part</p>
    <p class="modal-exercise-selected">${v(e.bodyPart)}</p>
  </li>`,r.insertAdjacentHTML("beforeend",n)),Object.keys(e).includes("equipment")&&(n=` <li class="modal-exercise-item">
          <p class="modal-exercise-subcategory">Equipment</p>
          <p class="modal-exercise-selected">${v(e.equipment)}</p>
        </li>`,r.insertAdjacentHTML("beforeend",n)),Object.keys(e).includes("popularity")&&(n=`<li class="modal-exercise-item">
          <p class="modal-exercise-subcategory">Popular</p>
          <p class="modal-exercise-selected">${e.popularity}</p>
        </li>`,r.insertAdjacentHTML("beforeend",n)),Object.keys(e).includes("time")){const i=`<li class="modal-exercise-item">
            <p class="modal-exercise-subcategory">Burned Calories</p>
            <p class="modal-exercise-selected">${e.burnedCalories}/${e.time} min</p>
          </li>`;r.insertAdjacentHTML("beforeend",i)}}function J(e){const t=document.querySelector(".modal-exercise-btn"),s=document.querySelector(".mod-exercise-span");h.getFavorites().some(y=>y===e)===!1?s.textContent=s.dataset.add:s.textContent=s.dataset.remove,t.addEventListener("click",()=>s.textContent===s.dataset.add?n():i());function n(){s.textContent=s.dataset.remove,h.addItemToFavorites(e)}function i(){s.textContent=s.dataset.add,h.deleteItemFromFavorites(e._id)}}function K(e){const t=document.getElementById("img");t.style.backgroundImage=`linear-gradient(
      0deg,
      rgba(27, 27, 27, 0.2) 0%,
      rgba(27, 27, 27, 0.2) 100%
    ),
    url(${e})`}const k=document.querySelectorAll(".mod-exercise-rating");k.length>0&&Q();function Q(){let e,t;for(let n=0;n<k.length;n++){const i=k[n];s(i)}function s(n){r(n),o()}function r(n){e=n.querySelector(".mod-exercise-rating-active"),t=n.querySelector(".mod-exercise-rating-value")}function o(){const n=t.textContent/.05;e.style.width=`${n}%`}}function X(e){const t=document.getElementById("get-rating"),s=document.querySelector(".modal-exercise");t.addEventListener("click",r);function r(){s.classList.add("is-hidden"),console.log(e),t.removeEventListener("click",r)}}function Z(){const e=document.querySelector(".modal-exercise-btn-close"),t=document.querySelector(".modal-exercise");e.addEventListener("click",s);function s(){t.classList.add("is-hidden"),e.removeEventListener("click",s)}}function v(e=""){return e[0].toUpperCase()+e.substring(1)}const F=document.querySelector(".modal-exercise"),I=document.querySelector(".feedback-container"),T=document.querySelector(".modal-exercise-btn-rating"),ee=document.querySelector(".feedback-close-button"),H=document.querySelector(".feedback-form-button");T.addEventListener("click",D);ee.addEventListener("click",N);function D(e){F.classList.remove("is-open-modal"),I.classList.add("is-open-modal"),H.addEventListener("click",P);function t(){const s=document.querySelectorAll(".feedback-rating-stars-svg"),r=document.querySelector(".feedback-form-rating-value");let o=0;s.forEach(a=>{a.addEventListener("mouseenter",()=>{const l=Array.from(s).indexOf(a);n(l),y(l+1)}),a.addEventListener("mouseleave",()=>{o===0?i():(n(o-1),y(o))}),a.addEventListener("click",()=>{const l=Array.from(s).indexOf(a)+1;o=l,r.textContent=`${o}.0`,n(l-1)})});function n(a){s.forEach((l,j)=>{j<=a?l.classList.add("feedback-rating-stars-svg-highlight"):l.classList.remove("feedback-rating-stars-svg-highlight")})}function i(){s.forEach(a=>{a.classList.remove("feedback-rating-stars-svg-highlight")}),r.textContent="0.0"}function y(a){r.textContent=`${a}.0`}}t()}function N(e){T.removeEventListener("click",D),H.removeEventListener("click",P),I.classList.remove("is-open-modal"),F.classList.add("is-open-modal"),R(e)}async function P(e){e.preventDefault();const t=document.querySelector(".feedback-form").dataset.id=t,s=document.querySelector(".feedback-form-rating-value").textContent,r=document.querySelector(".feedback-form-input").value,o=document.querySelector(".feedback-form-textarea").value;if(!t||!s||!r||!o){d.showError("Please fill in all fields!");return}const n={id:t,rate:s,email:r,review:o};try{const i=await g.updateExerciseRating(n);i.result?(d.showSuccess("Thank you! Your opinion is important to us!"),N(t)):(d.showError(i.message),console.error(i.message))}catch(i){d.showError("Something went wrong. Please try again later."),console.error("Error:",i)}}R("64f389465ae26083f39b1af3");O();const x=document.querySelector(".footer-subscription-form");x.addEventListener("submit",async e=>{e.preventDefault();const t=x.elements.email.value,s=await g.subscription(t);s.result?(d.showSuccess(s.message),x.elements.email.classList.remove("is-glowing")):d.showError(s.message),x.reset()});
//# sourceMappingURL=commonHelpers2.js.map
