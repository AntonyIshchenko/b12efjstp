{"version":3,"file":"commonHelpers2.js","sources":["../src/js/notificationAPI.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst messages = {\n  showInfo: textMessage => {\n    showMessage(textMessage, 'info');\n  },\n  showSuccess: textMessage => {\n    showMessage(textMessage, 'success');\n  },\n  showError: textMessage => {\n    showMessage(textMessage, 'error');\n  },\n};\n\nexport default messages;\n\nconst showMessage = (message, type = '') => {\n  iziToast[type]({\n    title: message,\n    position: 'bottomCenter',\n    closeOnEscape: true,\n    closeOnClick: true,\n    timeout: 5000,\n  });\n};\n","import messages from './js/notificationAPI';\nimport backendAPI from './js/backendAPI';\nimport localStorageAPI from './js/localStorageAPI';\nimport { exerciseCardMarkup } from './js/renderMarkup';\nimport { paginationMarkup } from './js/renderMarkup'; // Для пагінації\n\nimport './js/initialization';\n\nconst exercisesType = document.querySelectorAll('.exercises-type-item-btn');\nconst exercisesGalleryAria = document.querySelector('.exercises-gallery-list');\n// const cardGallery = document.querySelector('.card-gallery-item');\nconst pagedGalleryList = document.querySelector('.pagination-list'); \nconst pagedGalleryItem = document.querySelectorAll('.pagination-item');\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  exercisesType[0].classList.add('exercises-type-item-btn-focus');\n  meinGallery('Muscles', 1);\n});\n\nexercisesType.forEach(button => {\n  button.addEventListener('click', handleClick);\n  console.log(button.textContent.trim());\n});\n\npagedGalleryItem.forEach(page => {\n  page.addEventListener('click', (e) => {\n    const currentPage = e.target.textContent.trim();\n    console.dir(currentPage);\n    } );\n});\n\nasync function meinGallery (filter, currentPage = 1) {\n  let meinData = [];\n  const mData = await backendAPI.getFilterData().then();\n  // console.dir(mData.totalPages);\n  let rPage = mData.totalPages;\n  meinData = mData.results;\n\n  galleryMarkup(meinData, filter);\n    \n  paginationRender(paginationMarkup(rPage, currentPage));\n};\n\n\nfunction paginationRender (pageList){\n  pagedGalleryList.innerHTML = \"\" + pageList;\n}\n\n\nfunction handleClick(e) {\n  const currentBtn = e.currentTarget;\n  const filter = currentBtn.textContent.trim();\n  backendAPI.filter = currentBtn.textContent.trim();\n  switch (filter) {\n    case 'Muscles': \n      meinGallery(filter); break;\n    case 'Body parts': \n      meinGallery(filter); break;\n    case 'Equipment': \n    console.log(filter);\n      meinGallery(filter); break;\n    default:  \n    break;\n  };\n  inactivateFilter();\n  if (filter !== backendAPI.filter) {\n     currentBtn.classList.add('exercises-type-item-btn-focus');\n  }  else return\n};\n\n\nfunction inactivateFilter() {\n  exercisesType.forEach(button => {\n    button.classList.remove('exercises-type-item-btn-focus');\n  })\n};\n\n\nfunction galleryMarkup(currentData, activeType = 'Muscles') {\n  exercisesGalleryAria.innerHTML = '';\n    console.log(currentData);\n    exercisesGalleryAria.insertAdjacentHTML('beforeend', currentData.map(res => `\n    <li class=\"exercises-gallery-item\">\n          <a href=\"\" class=\"exercises-gallery-link\" style=\"background-image: url('${res.imgUrl}');\" alt=\"${res.name}\" loading=\"lazy\">\n            <h3 class=\"exercises-gallery-item-title\">${res.name}</h3>\n            <p class=\"exercises-gallery-item-description\">${activeType}</p>\n          </a>\n        </li>\n        `).join('')\n  );\n};\n\n\n\n\n// document.addEventListener(\"DOMContentLoaded\", () => {\n//   // alert(\"Page is loaded!\");\n//   exercisesType.classList.add('exercises-type-item-btn-focus');\n\n//   console.log(exercisesType.);\n// });\n\n// exercisesType.addEventListener('click', () => {\n//   exercisesType.classList.remove('exercises-type-item-btn-focus');\n//   // alert(\"Page is loaded!\");\n// });\n\n// пришлось закоментить код выше, не работал мой код\n// код для скрытия кнопки очищения формы и показа ее, когда происходит ввод в поле импута\nconst inputElement = document.querySelector('.exercises-form-input');\nconst clearButton = document.querySelector('.exercises-form-btn-clear');\n\ninputElement.addEventListener('input', function () {\n  const inputValue = inputElement.value;\n  if (inputValue.length > 0) {\n    clearButton.style.display = 'block';\n  } else {\n    clearButton.style.display = 'none';\n  }\n});\n\nclearButton.addEventListener('click', function () {\n  inputElement.value = '';\n  clearButton.style.display = 'none';\n});\n\n/////////////////////////////////////////////////////////////////////\n////// modal-rating\n// document.addEventListener('DOMContentLoaded', () => {\n//   const ratingStars = document.querySelectorAll('.feedback-rating-stars-svg');\n//   const ratingValue = document.querySelector('.feedback-form-rating-value');\n//   let currentRating = 0;\n\n//   ratingStars.forEach(star => {\n//     star.addEventListener('mouseenter', () => {\n//       const hoverStarIndex = Array.from(ratingStars).indexOf(star);\n//       highlightStars(hoverStarIndex);\n\n//       showStarValue(hoverStarIndex + 1);\n//     });\n\n//     star.addEventListener('mouseleave', () => {\n//       if (currentRating === 0) {\n//         resetRating();\n//       } else {\n//         highlightStars(currentRating - 1);\n//         showStarValue(currentRating);\n//       }\n//     });\n//     star.addEventListener('click', () => {\n//       const clickStarIndex = Array.from(ratingStars).indexOf(star) + 1;\n//       currentRating = clickStarIndex;\n//       ratingValue.textContent = `${currentRating}.0`;\n\n//       highlightStars(clickStarIndex - 1);\n//     });\n//   });\n\n//   function highlightStars(index) {\n//     ratingStars.forEach((star, i) => {\n//       if (i <= index) {\n//         star.classList.add('feedback-rating-stars-svg-highlight');\n//       } else {\n//         star.classList.remove('feedback-rating-stars-svg-highlight');\n//       }\n//     });\n//   }\n\n//   function resetRating() {\n//     ratingStars.forEach(star => {\n//       star.classList.remove('feedback-rating-stars-svg-highlight');\n//     });\n//     ratingValue.textContent = '0.0';\n//   }\n\n//   function showStarValue(value) {\n//     ratingValue.textContent = `${value}.0`;\n//   }\n// });\n\n////// modal-rating\n/////////////////////////////////////////////////////////////////////\n\n///////Subscription form/////////\nconst subscriptionForm = document.querySelector(\".footer-subscription-form\");\n\nsubscriptionForm.addEventListener(\"submit\", async (event) => {\n  event.preventDefault();\n  \n  const email = subscriptionForm.elements.email.value;\n  \n  const response = await backendAPI.subscription(email);\n\n  if (response.result) {\n    messages.showSuccess(response.message);\n    subscriptionForm.elements.email.classList.remove(\"is-glowing\")\n  } else {\n    messages.showError(response.message)\n  }\n\n  subscriptionForm.reset()\n})\n\n// Останній (робочий) тест backendAPI лишаю закоментованим для прикладу запиту\n// async function GetAllData() {\n//     const filterWithFront = 'Equipment';\n//     backendAPI.filter = filterWithFront;\n//   const filterData = await backendAPI.getFilterData(1, 8);\n//   console.log(filterData);\n\n//     filterWithFront = 'Body part';\n//     backendAPI.filter = filterWithFront;\n//     const exercisesWithFront = `Waist`;\n//     backendAPI.choiceExercises = exercisesWithFront;\n//   const OnExercises = await backendAPI.getOnExercises(1, 5, `air`);\n//   console.log(OnExercises);\n\n// const QuoteOfTheDay = await backendAPI.getQuoteOfTheDay();\n// console.log(QuoteOfTheDay);\n\n// const ExerciseInfo = await backendAPI.getExerciseInfo(\n//   `64f389465ae26083f39b17a4`\n// );\n// console.log(ExerciseInfo);\n\n// const sub = await backendAPI.subscription(`qazwsxedcrfv2@gmail.com`);\n// console.log(sub);\n\n// const ExerciseRating = await backendAPI.updateExerciseRating({\n//   id: `64f389465ae26083f39b17a4`,\n//   rate: 5,\n//   email: `qazwsxedcrfv2@gmail.com`,\n//   review: `text`,\n// });\n// console.log(ExerciseRating);\n// }\n// GetAllData();\n\n// const quote = localStorageAPI.getQuoteOfTheDay();\n// console.log(quote);\n\n// const favorites = localStorageAPI.getFavorites();\n// console.log(favorites);\n\n// const testItem = {\n//   _id: '64f389465ae26083f39b1af3',\n//   bodyPart: 'lower legs',\n//   equipment: 'sled machine',\n//   gifUrl: 'https://ftp.goit.study/img/power-pulse/gifs/1384.gif',\n//   name: 'hack one leg calf raise',\n//   target: 'calves',\n//   description:\n//     \"Located on the back of the lower leg, the calves include the gastrocnemius and soleus muscles. They're responsible for plantar flexion (raising the heel). Calves are targeted in exercises like calf raises and during running and jumping.\",\n//   rating: 3,\n//   burnedCalories: 286,\n//   time: 3,\n//   popularity: 105,\n// };\n\n// localStorageAPI.addItemToFavorites(testItem);\n// console.log(localStorageAPI.getFavorites());\n\n// localStorageAPI.deleteItemFromFavorites('64f389465ae26083f39b1af3');\n"],"names":["messages","textMessage","showMessage","message","type","iziToast","exercisesType","exercisesGalleryAria","pagedGalleryList","pagedGalleryItem","meinGallery","button","handleClick","page","e","currentPage","filter","meinData","mData","backendAPI","rPage","galleryMarkup","paginationRender","paginationMarkup","pageList","currentBtn","inactivateFilter","currentData","activeType","res","inputElement","clearButton","subscriptionForm","event","email","response"],"mappings":"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"}