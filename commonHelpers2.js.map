{"version":3,"file":"commonHelpers2.js","sources":["../src/js/notificationAPI.js","../src/js/excercises.js","../src/js/modal-exercise.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst messages = {\n  showInfo: textMessage => {\n    showMessage(textMessage, 'info');\n  },\n  showSuccess: textMessage => {\n    showMessage(textMessage, 'success');\n  },\n  showError: textMessage => {\n    showMessage(textMessage, 'error');\n  },\n};\n\nexport default messages;\n\nconst showMessage = (message, type = '') => {\n  iziToast[type]({\n    title: message,\n    position: 'bottomCenter',\n    closeOnEscape: true,\n    closeOnClick: true,\n    timeout: 5000,\n  });\n};\n","import backendAPI from './backendAPI';\nimport renderAPI from './renderMarkup';\n\nlet isMobileDevice;\nlet isDesktopDevice;\n\nconst filterListElem = document.querySelector('.exercises-type-list');\nconst exerciseListElem = document.querySelector('.exercises-gallery-list');\nconst paginationListElem = document.querySelector('.pagination-list');\nconst searchFormElem = document.querySelector('.exercises-type-form');\nconst inputElement = document.querySelector('.exercises-form-input');\nconst clearButton = document.querySelector('.exercises-form-btn-clear');\n\nexport default function startExercisesScenario() {\n  isMobileDevice = document.documentElement.scrollWidth < 768;\n  isDesktopDevice = document.documentElement.scrollWidth >= 1440;\n\n  filterListElem.addEventListener('click', filterListHandler);\n  exerciseListElem.addEventListener('click', exerciseListHandler);\n  paginationListElem.addEventListener('click', paginationListHandler);\n\n  searchFormElem.addEventListener('submit', searchFormSubmitHandler);\n  inputElement.addEventListener('input', inputElementHandler);\n  clearButton.addEventListener('click', clearButtonHandler);\n\n  window.addEventListener('resize', windowResizeHandler);\n\n  renderGroups();\n}\n\nfunction windowResizeHandler() {\n  let isDeviceChange = false;\n  if (isMobileDevice !== document.documentElement.scrollWidth < 768) {\n    isDeviceChange = true;\n    isMobileDevice = !isMobileDevice;\n  }\n\n  if (isDesktopDevice !== document.documentElement.scrollWidth >= 1440) {\n    isDeviceChange = true;\n    isDesktopDevice = !isDesktopDevice;\n  }\n\n  if (isDeviceChange) {\n    exerciseListElem.dataset.isGroups ? renderGroups() : renderExercises();\n  }\n}\n\nfunction searchFormSubmitHandler(event) {\n  event.preventDefault();\n  renderExercises();\n}\n\nfunction inputElementHandler() {\n  const inputValue = inputElement.value.trim();\n  clearButton.style.display = inputValue.length > 0 ? 'block' : 'none';\n}\n\nfunction clearButtonHandler() {\n  searchFormElem.reset();\n  clearButton.style.display = 'none';\n  renderExercises();\n}\n\nasync function renderGroups(page = 1) {\n  exerciseListElem.dataset.isGroups = 'true';\n  exerciseListElem.dataset.groupName = '';\n\n  const queryParams = {\n    filter: getActiveFilterElem().dataset.filter,\n    limit: isMobileDevice ? 8 : 12,\n    page,\n  };\n\n  const filtersData = await backendAPI.getFilterData(queryParams);\n\n  renderItems(filtersData);\n}\n\nasync function renderExercises(page = 1) {\n  const queryParams = {\n    [getActiveFilterElem().dataset.exerciseFilter]:\n      exerciseListElem.dataset.groupName,\n    limit: isDesktopDevice ? 9 : 8,\n    page,\n  };\n\n  const keyword = inputElement.value.trim();\n  if (keyword) {\n    queryParams.keyword = keyword;\n  }\n\n  const exercisesData = await backendAPI.getExercisesData(queryParams);\n  renderItems(exercisesData, true);\n}\n\nfunction renderItems(serverData = {}, isCards = false) {\n  // {\n  //   \"page\": \"1\",\n  //   \"perPage\": \"8\",\n  //   \"totalPages\": 2,\n  //   \"results\": [],\n  // }\n\n  const { results = [], totalPages = 1, page = 1 } = serverData;\n\n  const markup = isCards\n    ? results.map(elem => renderAPI.exerciseCardMarkup(elem)).join('')\n    : results.map(elem => renderAPI.filterGroupsMarkup(elem)).join('');\n\n  exerciseListElem.innerHTML = markup;\n  paginationListElem.innerHTML = renderAPI.paginationMarkup(totalPages, page);\n}\n\nfunction exerciseListHandler(event) {\n  if (\n    event.target.nodeName === 'A' ||\n    event.target.nodeName === 'P' ||\n    event.target.nodeName === 'H3'\n  ) {\n    event.preventDefault();\n\n    const currentLink =\n      event.target.nodeName === 'A' ? event.target : event.target.closest('a');\n\n    exerciseListElem.dataset.isGroups = '';\n    exerciseListElem.dataset.groupName = currentLink.dataset.name;\n    renderExercises();\n\n    searchFormElem.classList.remove('visually-hidden');\n  } else if (exerciseListElem.dataset.groupName) {\n    const cardStartBtn = event.target.closest('.exercise-card-start-btn');\n    if (cardStartBtn) {\n      alert(cardStartBtn.getAttribute('data-open-id'));\n      return;\n    }\n  }\n}\n\nfunction filterListHandler(event) {\n  if (event.target.nodeName === 'BUTTON') {\n    getActiveFilterElem().classList.toggle('exercises-type-item-active');\n    event.target.classList.toggle('exercises-type-item-active');\n\n    renderGroups();\n\n    searchFormElem.reset();\n    searchFormElem.classList.add('visually-hidden');\n  }\n}\n\nfunction paginationListHandler(event) {\n  if (event.target.nodeName === 'A') {\n    event.preventDefault();\n\n    const page = Number(event.target.innerText);\n\n    exerciseListElem.dataset.isGroups\n      ? renderGroups(page)\n      : renderExercises(page);\n  }\n}\n\nfunction getActiveFilterElem() {\n  return document.querySelector('.exercises-type-item-active');\n}\n","import backendAPI from './backendAPI';\nimport messages from './notificationAPI';\nimport localStorageAPI from './localStorageAPI';\n\n// GET ELEMENT\nexport async function openModalExercise(id = '') {\n  const elementModalExercise = await backendAPI.getExerciseInfo(id);\n  try {\n    if (elementModalExercise != {}) {\n      renderModalExercise(elementModalExercise);\n      btnSetFavoriteExercise(elementModalExercise);\n      btnGiveRating(id);\n      closeModalExercise();\n    } else {\n      messages.showError();\n    }\n  } catch (error) {\n    messages.showError(error);\n  }\n}\n\n// RENDER MODAL\nfunction renderModalExercise(elementModalExercise) {\n  const titleName = document.querySelector('.modal-exercise-title');\n  const valueRating = document.querySelector('.mod-exercise-rating-value');\n  const modalExerciseList = document.querySelector('.modal-exercise-list');\n  const instructionText = document.querySelector(\n    '.modal-exercise-instruction-text'\n  );\n  getImage(elementModalExercise.gifUrl);\n  titleName.textContent = capitalizeString(elementModalExercise.name);\n  valueRating.textContent = elementModalExercise.rating\n    .toString()\n    .padEnd(3, '.0');\n  instructionText.textContent = elementModalExercise.description;\n\n  //   function mapObject(object, array) {\n  //     let obj = {};\n  //     array.forEach(key => {\n  //       if (object[key]) {\n  //         obj[key] = object[key];\n  //       }\n  //     });\n  //     return obj;\n  //   }\n  //   const features = [\n  //     'target',\n  //     'bodyPart',\n  //     'equipment',\n  //     'popularity',\n  //     'burnedCalories',\n  //     'time',\n  //   ];\n\n  let modalExerciseItem = ``;\n  if (Object.keys(elementModalExercise).includes('target')) {\n    modalExerciseItem = `<li class=\"modal-exercise-item\">\n          <p class=\"modal-exercise-subcategory\">Target</p>\n          <p class=\"modal-exercise-selected\">${capitalizeString(\n            elementModalExercise.target\n          )}</p>\n        </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n  if (Object.keys(elementModalExercise).includes('bodyPart')) {\n    modalExerciseItem = ` <li class=\"modal-exercise-item\">\n    <p class=\"modal-exercise-subcategory\">Body Part</p>\n    <p class=\"modal-exercise-selected\">${capitalizeString(\n      elementModalExercise.bodyPart\n    )}</p>\n  </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n  if (Object.keys(elementModalExercise).includes('equipment')) {\n    modalExerciseItem = ` <li class=\"modal-exercise-item\">\n          <p class=\"modal-exercise-subcategory\">Equipment</p>\n          <p class=\"modal-exercise-selected\">${capitalizeString(\n            elementModalExercise.equipment\n          )}</p>\n        </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n  if (Object.keys(elementModalExercise).includes('popularity')) {\n    modalExerciseItem = `<li class=\"modal-exercise-item\">\n          <p class=\"modal-exercise-subcategory\">Popular</p>\n          <p class=\"modal-exercise-selected\">${elementModalExercise.popularity}</p>\n        </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n  if (Object.keys(elementModalExercise).includes('burnedCalories' && 'time')) {\n    const modalExerciseItem = `<li class=\"modal-exercise-item\">\n            <p class=\"modal-exercise-subcategory\">Burned Calories</p>\n            <p class=\"modal-exercise-selected\">${elementModalExercise.burnedCalories}/${elementModalExercise.time} min</p>\n          </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n}\n\n// ADD / REMOVE BTN\nfunction btnSetFavoriteExercise(elementModalExercise) {\n  const btn = document.querySelector('.modal-exercise-btn');\n  const span = document.querySelector('.mod-exercise-span');\n  const favExercises = localStorageAPI.getFavorites();\n  const favoriteExercise = favExercises.some(el => el === elementModalExercise);\n  favoriteExercise === false\n    ? (span.textContent = span.dataset.add)\n    : (span.textContent = span.dataset.remove);\n\n  btn.addEventListener('click', () => {\n    if (span.textContent === span.dataset.add) {\n      return addToFavorite();\n    } else {\n      return removeFromFavorite();\n    }\n  });\n  function addToFavorite() {\n    span.textContent = span.dataset.remove;\n    localStorageAPI.addItemToFavorites(elementModalExercise);\n  }\n  function removeFromFavorite() {\n    span.textContent = span.dataset.add;\n    localStorageAPI.deleteItemFromFavorites(elementModalExercise._id);\n  }\n}\n\n// GET IMAGE\nfunction getImage(gifUrl) {\n  const imageContainer = document.getElementById('img');\n\n  imageContainer.style.backgroundImage = `linear-gradient(\n      0deg,\n      rgba(27, 27, 27, 0.2) 0%,\n      rgba(27, 27, 27, 0.2) 100%\n    ),\n    url(${gifUrl})`;\n}\n\n// GET RATING\nconst ratingsRef = document.querySelectorAll('.mod-exercise-rating');\nif (ratingsRef.length > 0) {\n  initRatings();\n}\n\nexport function initRatings() {\n  let ratingActive, ratingValue;\n  for (let index = 0; index < ratingsRef.length; index++) {\n    const rating = ratingsRef[index];\n    getRating(rating);\n  }\n\n  function getRating(rating) {\n    initRatingVars(rating);\n    setRatingActiveWidth();\n  }\n\n  function initRatingVars(rating) {\n    ratingActive = rating.querySelector('.mod-exercise-rating-active');\n    ratingValue = rating.querySelector('.mod-exercise-rating-value');\n  }\n  function setRatingActiveWidth() {\n    const ratingActiveWidth = ratingValue.textContent / 0.05;\n    ratingActive.style.width = `${ratingActiveWidth}%`;\n  }\n}\n\n// GET MODAL FEEDBACK\nfunction btnGiveRating(id) {\n  const btnGetRating = document.getElementById('get-rating');\n  const modalExersise = document.querySelector('.modal-exercise');\n  btnGetRating.addEventListener('click', getModalRating);\n  function getModalRating() {\n    modalExersise.classList.add('is-hidden');\n    console.log(id);\n    // openGiveRatingWindow(id);\n    btnGetRating.removeEventListener('click', getModalRating);\n  }\n}\n\n// BTN CLOSE\nfunction closeModalExercise() {\n  const btnClose = document.querySelector('.modal-exercise-btn-close');\n  const modalExersise = document.querySelector('.modal-exercise');\n  btnClose.addEventListener('click', closeModal);\n  function closeModal() {\n    modalExersise.classList.add('is-hidden');\n    btnClose.removeEventListener('click', closeModal);\n  }\n}\n\n//CAPITALIZE STRING\n\nfunction capitalizeString(string = '') {\n  return string[0].toUpperCase() + string.substring(1);\n}\n\n//////////////////////////////////////////////////\n/// Таня\n\nconst modalExercise = document.querySelector('.modal-exercise');\nconst feedbackForm = document.querySelector('.feedback-container');\nconst modalButtonGiveRating = document.querySelector(\n  '.modal-exercise-btn-rating'\n);\nconst feedbackCloseButton = document.querySelector('.feedback-close-button');\nconst sendButton = document.querySelector('.feedback-form-button');\n\n// лістенери на відкриття і закриття\nmodalButtonGiveRating.addEventListener('click', openGiveRatingWindow);\nfeedbackCloseButton.addEventListener('click', closeGiveRatingWindow);\n\nfunction openGiveRatingWindow(id) {\n  // закриття модалки Валерії відкриття модалки рейтингу\n  modalExercise.classList.remove('is-open-modal');\n  feedbackForm.classList.add('is-open-modal');\n\n  // лістенер на функцію відправки на бекенд\n  sendButton.addEventListener('click', submitRatingForm);\n\n  //рейтинг зірочок\n  function ratingStar() {\n    const ratingStars = document.querySelectorAll('.feedback-rating-stars-svg');\n    const ratingValue = document.querySelector('.feedback-form-rating-value');\n    let currentRating = 0;\n\n    ratingStars.forEach(star => {\n      star.addEventListener('mouseenter', () => {\n        const hoverStarIndex = Array.from(ratingStars).indexOf(star);\n        highlightStars(hoverStarIndex);\n\n        showStarValue(hoverStarIndex + 1);\n      });\n\n      star.addEventListener('mouseleave', () => {\n        if (currentRating === 0) {\n          resetRating();\n        } else {\n          highlightStars(currentRating - 1);\n          showStarValue(currentRating);\n        }\n      });\n      star.addEventListener('click', () => {\n        const clickStarIndex = Array.from(ratingStars).indexOf(star) + 1;\n        currentRating = clickStarIndex;\n        ratingValue.textContent = `${currentRating}.0`;\n\n        highlightStars(clickStarIndex - 1);\n      });\n    });\n\n    function highlightStars(index) {\n      ratingStars.forEach((star, i) => {\n        if (i <= index) {\n          star.classList.add('feedback-rating-stars-svg-highlight');\n        } else {\n          star.classList.remove('feedback-rating-stars-svg-highlight');\n        }\n      });\n    }\n\n    function resetRating() {\n      ratingStars.forEach(star => {\n        star.classList.remove('feedback-rating-stars-svg-highlight');\n      });\n      ratingValue.textContent = '0.0';\n    }\n\n    function showStarValue(value) {\n      ratingValue.textContent = `${value}.0`;\n    }\n  }\n  ratingStar();\n}\n\nfunction closeGiveRatingWindow(id) {\n  // видалення лістенерів\n  modalButtonGiveRating.removeEventListener('click', openGiveRatingWindow);\n  sendButton.removeEventListener('click', submitRatingForm); //??? хочу уточнити\n\n  // закриття модалки рейтингу відкриття модалки Валерії\n  feedbackForm.classList.remove('is-open-modal');\n  modalExercise.classList.add('is-open-modal');\n\n  openModalExercise(id);\n}\n\nasync function submitRatingForm(event) {\n  event.preventDefault();\n\n  // беру дані\n  const id = (document.querySelector('.feedback-form').dataset.id = id);\n  const rate = document.querySelector(\n    '.feedback-form-rating-value'\n  ).textContent; //??? хочу уточнити\n  const email = document.querySelector('.feedback-form-input').value;\n  const review = document.querySelector('.feedback-form-textarea').value;\n\n  // перевіряю чи усі поля заповнені\n  if (!id || !rate || !email || !review) {\n    messages.showError('Please fill in all fields!');\n    return;\n  }\n\n  const rating = { id, rate, email, review };\n\n  try {\n    const response = await backendAPI.updateExerciseRating(rating);\n\n    // перевіряю відповідь з бекенду\n    if (response.result) {\n      messages.showSuccess('Thank you! Your opinion is important to us!');\n\n      closeGiveRatingWindow(id);\n    } else {\n      messages.showError(response.message);\n      console.error(response.message);\n    }\n  } catch (error) {\n    messages.showError('Something went wrong. Please try again later.');\n    console.error('Error:', error);\n  }\n}\n","import messages from './js/notificationAPI';\nimport backendAPI from './js/backendAPI';\nimport localStorageAPI from './js/localStorageAPI';\nimport startExercisesScenario from './js/excercises';\n\nimport './js/initialization';\n\n\nimport { openModalExercise } from './js/modal-exercise';\nopenModalExercise('64f389465ae26083f39b1af3');\n\n\nstartExercisesScenario();\n\n\n\n/////////////////////////////////////////////////////////////////////\n////// modal-rating\n// document.addEventListener('DOMContentLoaded', () => {\n//   const ratingStars = document.querySelectorAll('.feedback-rating-stars-svg');\n//   const ratingValue = document.querySelector('.feedback-form-rating-value');\n//   let currentRating = 0;\n\n//   ratingStars.forEach(star => {\n//     star.addEventListener('mouseenter', () => {\n//       const hoverStarIndex = Array.from(ratingStars).indexOf(star);\n//       highlightStars(hoverStarIndex);\n\n//       showStarValue(hoverStarIndex + 1);\n//     });\n\n//     star.addEventListener('mouseleave', () => {\n//       if (currentRating === 0) {\n//         resetRating();\n//       } else {\n//         highlightStars(currentRating - 1);\n//         showStarValue(currentRating);\n//       }\n//     });\n//     star.addEventListener('click', () => {\n//       const clickStarIndex = Array.from(ratingStars).indexOf(star) + 1;\n//       currentRating = clickStarIndex;\n//       ratingValue.textContent = `${currentRating}.0`;\n\n//       highlightStars(clickStarIndex - 1);\n//     });\n//   });\n\n//   function highlightStars(index) {\n//     ratingStars.forEach((star, i) => {\n//       if (i <= index) {\n//         star.classList.add('feedback-rating-stars-svg-highlight');\n//       } else {\n//         star.classList.remove('feedback-rating-stars-svg-highlight');\n//       }\n//     });\n//   }\n\n//   function resetRating() {\n//     ratingStars.forEach(star => {\n//       star.classList.remove('feedback-rating-stars-svg-highlight');\n//     });\n//     ratingValue.textContent = '0.0';\n//   }\n\n//   function showStarValue(value) {\n//     ratingValue.textContent = `${value}.0`;\n//   }\n// });\n\n////// modal-rating\n/////////////////////////////////////////////////////////////////////\n\n///////Subscription form/////////\nconst subscriptionForm = document.querySelector('.footer-subscription-form');\n\nsubscriptionForm.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const email = subscriptionForm.elements.email.value;\n\n  const response = await backendAPI.subscription(email);\n\n  if (response.result) {\n    messages.showSuccess(response.message);\n    subscriptionForm.elements.email.classList.remove('is-glowing');\n  } else {\n    messages.showError(response.message);\n  }\n\n  subscriptionForm.reset();\n});\n\n// const testItem = {\n//   _id: '64f389465ae26083f39b1af3',\n//   bodyPart: 'lower legs',\n//   equipment: 'sled machine',\n//   gifUrl: 'https://ftp.goit.study/img/power-pulse/gifs/1384.gif',\n//   name: 'hack one leg calf raise',\n//   target: 'calves',\n//   description:\n//     \"Located on the back of the lower leg, the calves include the gastrocnemius and soleus muscles. They're responsible for plantar flexion (raising the heel). Calves are targeted in exercises like calf raises and during running and jumping.\",\n//   rating: 3,\n//   burnedCalories: 286,\n//   time: 3,\n//   popularity: 105,\n// };\n\n// localStorageAPI.addItemToFavorites(testItem);\n// console.log(localStorageAPI.getFavorites());\n\n// localStorageAPI.deleteItemFromFavorites('64f389465ae26083f39b1af3');\n"],"names":["messages","textMessage","showMessage","message","type","iziToast","isMobileDevice","isDesktopDevice","filterListElem","exerciseListElem","paginationListElem","searchFormElem","inputElement","clearButton","startExercisesScenario","filterListHandler","exerciseListHandler","paginationListHandler","searchFormSubmitHandler","inputElementHandler","clearButtonHandler","windowResizeHandler","renderGroups","isDeviceChange","renderExercises","event","inputValue","page","queryParams","getActiveFilterElem","filtersData","backendAPI","renderItems","keyword","exercisesData","serverData","isCards","results","totalPages","markup","elem","renderAPI","currentLink","cardStartBtn","openModalExercise","id","elementModalExercise","renderModalExercise","btnSetFavoriteExercise","btnGiveRating","closeModalExercise","error","titleName","valueRating","modalExerciseList","instructionText","getImage","capitalizeString","modalExerciseItem","btn","span","localStorageAPI","el","addToFavorite","removeFromFavorite","gifUrl","imageContainer","ratingsRef","initRatings","ratingActive","ratingValue","index","rating","getRating","initRatingVars","setRatingActiveWidth","ratingActiveWidth","btnGetRating","modalExersise","getModalRating","btnClose","closeModal","string","modalExercise","feedbackForm","modalButtonGiveRating","feedbackCloseButton","sendButton","openGiveRatingWindow","closeGiveRatingWindow","submitRatingForm","ratingStar","ratingStars","currentRating","star","hoverStarIndex","highlightStars","showStarValue","resetRating","clickStarIndex","i","value","rate","email","review","response","subscriptionForm"],"mappings":"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"}